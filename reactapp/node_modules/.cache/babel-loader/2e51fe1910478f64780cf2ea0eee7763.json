{"ast":null,"code":"var _jsxFileName = \"/Users/lililiardet/Documents/La Capsule/Jour 30 React Hackaton/Projet/Morning News - Part 5/morningnews/reactapp/src/ScreenArticlesBySource.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport { Card, Icon, Modal } from \"antd\";\nimport Nav from \"./Nav\";\nimport { connect } from \"react-redux\";\nconst {\n  Meta\n} = Card;\n\nfunction ScreenArticlesBySource(props) {\n  const [articleList, setArticleList] = useState([]);\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  var {\n    id\n  } = useParams();\n  useEffect(() => {\n    const findArticles = async () => {\n      const data = await fetch(`https://newsapi.org/v2/top-headlines?sources=${id}&apiKey=9e56b86b7cc84455afbf9841f80f01f0`);\n      const body = await data.json();\n      console.log(body);\n      setArticleList(body.articles);\n    };\n\n    findArticles();\n  }, []);\n\n  var showModal = (title, content) => {\n    setVisible(true);\n    setTitle(title);\n    setContent(content);\n  };\n\n  var handleOk = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var handleCancel = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Banner\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, articleList.map((article, i) => React.createElement(\"div\", {\n    key: i,\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      width: 300,\n      margin: \"15px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\"\n    },\n    cover: React.createElement(\"img\", {\n      alt: \"example\",\n      src: article.urlToImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }),\n    actions: [React.createElement(Icon, {\n      type: \"read\",\n      key: \"ellipsis2\",\n      onClick: () => showModal(article.title, article.content),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(Icon, {\n      type: \"like\",\n      key: \"ellipsis\",\n      onClick: () => {\n        props.addToWishList(article);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Meta, {\n    title: article.title,\n    description: article.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })), React.createElement(Modal, {\n    title: title,\n    visible: visible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, content))))));\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addToWishList: function (article) {\n      dispatch({\n        type: \"addArticle\",\n        articleLiked: article\n      }); // ajout dans wih front et envoi au store\n      //envoi en BDD par la route en GET\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(ScreenArticlesBySource);","map":{"version":3,"sources":["/Users/lililiardet/Documents/La Capsule/Jour 30 React Hackaton/Projet/Morning News - Part 5/morningnews/reactapp/src/ScreenArticlesBySource.js"],"names":["React","useState","useEffect","useParams","Link","Card","Icon","Modal","Nav","connect","Meta","ScreenArticlesBySource","props","articleList","setArticleList","visible","setVisible","title","setTitle","content","setContent","id","findArticles","data","fetch","body","json","console","log","articles","showModal","handleOk","e","handleCancel","map","article","i","display","justifyContent","width","margin","flexDirection","urlToImage","addToWishList","description","mapDispatchToProps","dispatch","type","articleLiked"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport { Card, Icon, Modal } from \"antd\";\nimport Nav from \"./Nav\";\nimport { connect } from \"react-redux\";\n\nconst { Meta } = Card;\n\nfunction ScreenArticlesBySource(props) {\n  const [articleList, setArticleList] = useState([]);\n\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n\n  var { id } = useParams();\n\n  useEffect(() => {\n    const findArticles = async () => {\n      const data = await fetch(\n        `https://newsapi.org/v2/top-headlines?sources=${id}&apiKey=9e56b86b7cc84455afbf9841f80f01f0`\n      );\n      const body = await data.json();\n      console.log(body);\n      setArticleList(body.articles);\n    };\n\n    findArticles();\n  }, []);\n\n  var showModal = (title, content) => {\n    setVisible(true);\n    setTitle(title);\n    setContent(content);\n  };\n\n  var handleOk = (e) => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var handleCancel = (e) => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  return (\n    <div>\n      <Nav />\n\n      <div className=\"Banner\" />\n\n      <div className=\"Card\">\n        {articleList.map((article, i) => (\n          <div key={i} style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Card\n              style={{\n                width: 300,\n                margin: \"15px\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"space-between\",\n              }}\n              cover={<img alt=\"example\" src={article.urlToImage} />}\n              actions={[\n                <Icon\n                  type=\"read\"\n                  key=\"ellipsis2\"\n                  onClick={() => showModal(article.title, article.content)}\n                />,\n                <Icon\n                  type=\"like\"\n                  key=\"ellipsis\"\n                  onClick={() => {\n                    props.addToWishList(article);\n                  }}\n                />,\n              ]}\n            >\n              <Meta title={article.title} description={article.description} />\n            </Card>\n            <Modal\n              title={title}\n              visible={visible}\n              onOk={handleOk}\n              onCancel={handleCancel}\n            >\n              <p>{content}</p>\n            </Modal>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addToWishList: function (article) {\n      dispatch({ type: \"addArticle\", articleLiked: article }); // ajout dans wih front et envoi au store\n      //envoi en BDD par la route en GET\n    },\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(ScreenArticlesBySource);\n"]},"metadata":{},"sourceType":"module"}